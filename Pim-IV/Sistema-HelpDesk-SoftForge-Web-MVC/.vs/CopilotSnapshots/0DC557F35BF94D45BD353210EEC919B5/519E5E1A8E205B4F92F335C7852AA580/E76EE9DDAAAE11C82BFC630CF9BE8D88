@page
@model PIM.Pages.DbTestes.AbrirChamadoModel
@{
 ViewData["Title"] = "Abrir Chamado (Teste)";
}

<partial name="~/Pages/Shared/_DbTestesNav.cshtml" />

<div class="alert alert-info">Guia: Preencha título e descrição para criar um chamado de teste. O formulário grava no banco e retorna os dados criados.</div>

<h2>Abrir Chamado</h2>

@if (Model.Created)
{
 <div class="alert alert-success">Chamado criado (protocolo: @Model.CreatedProtocol)</div>
 <dl class="row">
 <dt class="col-sm-3">Título</dt>
 <dd class="col-sm-9">@Model.Titulo</dd>
 <dt class="col-sm-3">Descrição</dt>
 <dd class="col-sm-9">@Model.Descricao</dd>
 </dl>
}
else
{
 <form method="post">
 <div class="mb-3">
 <label asp-for="Titulo" class="form-label">Título</label>
 <input asp-for="Titulo" class="form-control" />
 </div>
 <div class="mb-3">
 <label asp-for="Descricao" class="form-label">Descrição</label>
 <textarea asp-for="Descricao" class="form-control"></textarea>
 </div>
 <button type="submit" class="btn btn-primary">Abrir Chamado</button>
 </form>
}

@section Scripts {
 <partial name="_ValidationScriptsPartial" />
}