@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "Painel Inicial";
}

<div class="db-page container-fluid">
    @await Html.PartialAsync("_HeaderNav")

    <main class="db-content">
        <section class="db-section db-welcome">
            <h2>Bem-vindo(a), @User?.Identity?.Name ?? "[Nome do Usuário]"</h2>
            <p>
                <strong>Perfil:</strong>
                @{
                    var role = User?.FindFirst(System.Security.Claims.ClaimTypes.Role)?.Value;
                    string perfil = role switch
                    {
                        "1" => "Administrador",
                        "2" => "Gestor",
                        "3" => "Técnico",
                        "4" => "Solicitante",
                        _ => "(não autenticado)"
                    };
                }
                @perfil
            </p>
        </section>

        <section class="db-section db-notifications">
            <h3>🔔 Notificações Recentes</h3>
            <ul>
                <li>
                    <strong>[Crítico]</strong> Chamado #CHAM-2025-001 - Servidor fora do ar
                    <em>(SLA:2h restantes)</em>
                </li>
                <li>
                    <strong>[Alta]</strong> Chamado #CHAM-2025-045 foi atribuído a você
                </li>
                <li>
                    <strong>[Média]</strong>3 chamados aguardando atendimento na sua fila
                </li>
            </ul>
        </section>

        <section class="db-section db-summary">
            <h3>📈 Resumo Rápido (Hoje)</h3>
            <table class="table table-bordered">
                <tr>
                    <th>Indicador</th>
                    <th>Valor</th>
                </tr>
                <tr>
                    <td>Chamados em Espera</td>
                    <td>8</td>
                </tr>
                <tr>
                    <td>Chamados em Atendimento</td>
                    <td>5</td>
                </tr>
                <tr>
                    <td>Chamados Resolvidos (Hoje)</td>
                    <td>12</td>
                </tr>
                <tr>
                    <td>SLA Cumprido</td>
                    <td>92%</td>
                </tr>
            </table>
        </section>
    </main>

    <div class="db-footer">
        <footer>
            <p>©2025 SoftForge - Todos os direitos reservados</p>
        </footer>
    </div>
</div>