@model IEnumerable<PIM_FINAL.Models.Chamado>

@{
 ViewData["Title"] = "Chamados";
 var mapCat = ViewBag.MapCategorias as System.Collections.Generic.Dictionary<int,string> ?? new();
 var mapPri = ViewBag.MapPrioridades as System.Collections.Generic.Dictionary<int,string> ?? new();
 var mapSta = ViewBag.MapStatus as System.Collections.Generic.Dictionary<int,string> ?? new();
 var mapUsr = ViewBag.MapUsuarios as System.Collections.Generic.Dictionary<int,string> ?? new();
}

<h1>Chamados</h1>
<p>
 <a asp-action="Create">Novo Chamado</a>
</p>
<table class="table">
 <thead>
 <tr>
 <th>Protocolo</th>
 <th>Titulo</th>
 <th>Solicitante</th>
 <th>Status</th>
 <th>Prioridade</th>
 <th>Data Abertura</th>
 <th></th>
 </tr>
 </thead>
 <tbody>
 @foreach(var c in Model)
 {
 <tr>
 <td>@c.Protocolo</td>
 <td>@c.Titulo</td>
 <td>@(c.UsuarioSolicitanteId!=null && mapUsr.ContainsKey(c.UsuarioSolicitanteId.Value)? mapUsr[c.UsuarioSolicitanteId.Value]: c.UsuarioSolicitanteId?.ToString())</td>
 <td>@(c.StatusId!=null && mapSta.ContainsKey(c.StatusId.Value)? mapSta[c.StatusId.Value]: c.StatusId?.ToString())</td>
 <td>@(c.PrioridadeId!=null && mapPri.ContainsKey(c.PrioridadeId.Value)? mapPri[c.PrioridadeId.Value]: c.PrioridadeId?.ToString())</td>
 <td>@c.DataAbertura</td>
 <td>
 <a asp-action="Details" asp-route-id="@c.ChamadoId">Details</a> |
 <a asp-action="Edit" asp-route-id="@c.ChamadoId">Edit</a> |
 <a asp-action="Delete" asp-route-id="@c.ChamadoId">Delete</a>
 </td>
 </tr>
 }
 </tbody>
</table>